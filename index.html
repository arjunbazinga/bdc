<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-101184475-5"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-101184475-5');
    </script>

  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">


  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#fffde8">
  <meta name="viewport" content="width=device-width,  initial-scale=1">

  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="HandheldFriendly" content="true">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <meta name="Description" content="Burn's Depression checklist,
  Website by arjunbazinga, Inspired by the book Feeling Good by David D. Burns">

  <link rel="manifest" href="manifest.json">

  <link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico">
  <link rel="shortcut icon big" sizes="192x192" href="images/icons-192.png ">

  <link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico">
  <link rel="icon" type="image/x-icon" href="images/favicon.ico">

  <link rel="apple-touch-icon" sizes="57x57" href="images/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="images/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="images/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="images/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="images/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="images/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="images/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="images/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="images/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="images/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="images/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">

</head>
<Title>Burn's Depression Checklist</Title>

<body>
  <style>
    body {
      margin: auto;
      background: #fffde8;
     
      padding: 10px;
      font-family: 'Open Sans', sans-serif;
      align-items: center;
      align-content: center;
      text-align: center;

    }

    ::-moz-selection {
      background: yellow;
    }

    ::selection {
      background: yellow;
    }

    #results, #back, #next {
      display: none;
    }

    #question {
      font-style: italic;
    }

    #progress {
      font-size: 75%;
    }

    table {
      width: 90%;
      border-collapse: collapse;
      margin-left: 5%;
      margin-right: 5%;
    }

    td,
    th {
      border: 1px solid #dddddd;
      text-align: left;
      padding: 8px;
    }

    tr:nth-child(even) {
      background-color: #dddddd;
    }
  
  </style>
  <h2>Burns Depression Checklist</h2>

  <div id="page">
    <h4 id="category">Thoughts and Feelings</h4>

    <div id="question">Feeling sad or down in the dumps</div>
    <br>
    <hr>
    <div id="options">
      <div id=0>Not At All</div>
      <hr>
      <div id=1>Somewhat</div>
      <hr>
      <div id=2>Moderately</div>
      <hr>
      <div id=3>A lot</div>
      <hr>
      <div id=4>Extremely</div>
      <hr>
    </div>
    <br>
    <div id=progress>1 / 25</div>
    <br>
  </div>

  <div id="results">
    <div id="score"></div>
    <br>
    <table>
      <tr>
        <th>Level of Depression</th>
        <th>Total Score</th>
      </tr>
      <tr>
        <td>No Depression</td>
        <td>0-5</td>
      </tr>
      <tr>
        <td>Normal but unhappy</td>
        <td>6-10</td>
      </tr>
      <tr>
        <td>Mild depression</td>
        <td>11-25</td>
      </tr>
      <tr>
        <td>Moderate depression</td>
        <td>26-50</td>
      </tr>
      <tr>
        <td>Severe depression</td>
        <td>51-75</td>
      </tr>
      <tr>
        <td>Extreme depression</td>
        <td>76-100</td>
      </tr>
    </table>
    <br>
  </div>

  <div id="navigation">
      <input type="button" id="back" onclick="back_handler()" value="Back"></input>
      <input type="button" id="next" onclick="next_handler()" value="Next"></input>
  </div>
  



  <script>
    var current = 0
    var s_id = 0;
    var ans = {}
    var qs = ['Feeling sad or down in the dumps',
      'Feeling unhappy or blue',
      'Crying spells or tearfulness',
      'Feeling discouraged',
      'Feeling hopeless',
      'Low self esteem',
      'Feeling worthless or inadequate',
      'Guilt or shame',
      'Criticizing yourself or blaming other',
      'Difficulty making decisions',
      'Loss of interest in family, friends or colleagues',
      'Loneliness',
      'Spending less time with family or friends',
      'Loss of motivation',
      'Loss of interest in work or other activities',
      'Avoiding work or other activities',
      'Loss of pleasure or satisfaction in life',
      'Feeling tired',
      'Difficulty sleeping or sleeping too much',
      'Decreased or increased appetite',
      'Loss of interest in sex',
      'Worrying about your health',
      'Do you have any suicidal thoughts?',
      'Would you like to end your life?',
      'Do you have a plan for harming yourself?'
    ]
    ss = ['Thoughts and Feelings',
      'Activities and Personal Relationships',
      'Physical Symptoms',
      'Suicidal Urges'
    ]

    function getcategoryId() {
      if (current < 10) {
        return 0
      }
      if (current < 17) {
        return 1
      }
      if (current < 22) {
        return 2
      }
      return 3
    }

    function hide(e) {
      var t = document.getElementById(e)
      if (t.style.display != "none") {
        t.style.display = "none"
      }
    }

    function show(e) {
      var t = document.getElementById(e)
      if (t.style.display != "block") {
        t.style.display = "block"
      }
    }

    function select(e) {
      var t = document.getElementById(e)
      if (t.style.background != "#e7e6d3") {
        t.style.background = "#e7e6d3"
      }
    }

    function unselect(e) {
      var t = document.getElementById(e)
      if (t.style.background != "#fffde8") {
        t.style.background = "#fffde8"
      }
    }

    function next_handler(qans) {
      if (current < 25) {
        current += 1
        draw()
      }
    }


    function back_handler() {
      if (current > 0) {
        if (current == 25) {
          show("page")
          hide("results")
        }
        current -= 1
        draw()
      }
    }


    function Category() {
      var ns_id = getcategoryId()
      if (s_id != ns_id) {
        s_id = ns_id
        document.getElementById("category").innerHTML = ss[s_id]
      }
    }

    function Options() {
      if (!(ans[current] === undefined)) {
        var t = ans[current]
        console.log(t)
        for (i = 0; i < 5; i++) {
          if (t == i) {
            select(i)
          } else {
            unselect(i)
          }
        }

      }
    }

    function Question() {
      document.getElementById("question").innerHTML = qs[current]
    }


    function Progress() {
      document.getElementById("progress").innerHTML = current + 1 + " / " + 25
    }


    function Back() {
      if (current == 0) {
        hide("back")
      } else {
        show("back")
      }
    }

    function Next() {
      if (ans[current] === undefined) {
        hide("next")
      } else {
        show("next")
      }
    }


    function calculate_total() {
      var total = 0;
      for (var i in ans) {
        total += ans[i];
      }
      return total
    }


    function Score() {
      document.getElementById("score").innerHTML = "Total : " + calculate_total();
    }


    function draw() {
      Back()
      Next()
      if (current != 25) {
        Category()
        Question()
        Progress()
        Options()
        show("page")
        hide("results")

      } else {
        Score()
        hide("page")
        show("results")
      }
    }

    document.getElementById("0").onclick = function () {
      ans[current] = 0
      next_handler()
    }
    document.getElementById("1").onclick = function () {
      ans[current] = 1
      next_handler()
    }
    document.getElementById("2").onclick = function () {
      ans[current] = 2
      next_handler()
    }
    document.getElementById("3").onclick = function () {
      ans[current] = 3
      next_handler()
    }
    document.getElementById("4").onclick = function () {
      ans[current] = 4
      next_handler()
    }
  </script>

</body>

</html>